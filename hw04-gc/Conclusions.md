
# Результаты экспериментов

## G1 Garbage Collector
| Номер эксперимента | VM options | Thread.sleep | Кол.-во сборок Young | Кол.-во сборок Old | Время сборки Young | Время сборки Old |
| --- | --- | --- | --- | --- | --- | --- |
| 1. | -Xms512m<br> -Xmx512m<br> -XX:+UseG1GC<br> -XX:MaxGCPauseMillis=10  | отсутствует | 25 | 1 | 181ms | 162ms |
| 2. | -Xms512m<br> -Xmx512m<br> -XX:+UseG1GC<br> -XX:MaxGCPauseMillis=10 | 10 | 28 | 4 | 423ms | 1468ms |
| 3. | -Xms512m<br> -Xmx512m<br> -XX:+UseG1GC<br> -XX:MaxGCPauseMillis=10 | 100 | 31 | 10 | 431ms | 2802ms |
| 4. | -Xms512m<br> -Xmx512m<br> -XX:+UseG1GC<br> -XX:MaxGCPauseMillis=100 | 100 | 28 | 11 | 409ms | 3179ms |
| 5. | -Xms4096m<br> -Xmx4096m<br> -XX:+UseG1GC<br> -XX:MaxGCPauseMillis=10 | отсутствует | 25 | 2 | 6011ms | 5220ms |
| 6. | -Xms4096m<br> -Xmx4096m<br> -XX:+UseG1GC<br> -XX:MaxGCPauseMillis=10 | 10 | 29 | 14 | 2988ms | 29666ms |


### Выводы:
0. По результатам Эксперимента №1 сборка Old занимает значительно большее время, чем Young.
0. По результатам Эксперимента №2 Old сборки начинают происходить ближе к максимальному заполнению лимита памяти.
0. По результатам Эксперимента №3 Дольше всего происходит первая Old сборка мусора, последующие Old уже быстрее. Возможно, это связано с более ресурсозатратной дефрагментацией объектов в памяти.
0. Чем медленнее происходит утечка памяти, тем дольше приложение остается работоспособным на максимальной загрузке памяти.
0. В эксперименте №5 приложение за 10 секунд достигло своего максимума по памяти, загрузка процессора составила 100%. Приложение провисело активным 5m 11s. Во время, пока приложение работало с максимальной загрузкой в логах не появлялись новые сборки, видимо происходила последняя Old сборка, после которой приложение упало по OutOfMemoryError. 
0. В эксперименте №6 приложение за 2m 40s достигло своего максимума по памяти. Нагрузка на процессор сохранялась на уровне 1%. После 50% загрузки по памяти и до достижения максимума было 6 всплесков нагрузки на процессор, порядка 25%. Когда память закончилась, нагрузка на процессор возрасла до 100%. Приложение проработало до 5m 30s от старта, в этом промежутке происходили длинные Old сборки.
0. Приложение доходит до Out Of Memory примерно с одинаковым количеством Young сборок.
0. Если мы делаем паузы в наращивании мусорных объектов, то это облегчает сборщику задачу и он справляется быстрее. 
 
 ## Parallel Garbage Collector
 | Номер эксперимента | VM options | Thread.sleep | Кол.-во сборок Young | Кол.-во сборок Old | Время сборки Young | Время сборки Old |
 | --- | --- | --- | --- | --- | --- | --- |
 | 1. | -Xms512m<br> -Xmx512m<br> -XX:+UseParallelGC<br> -XX:MaxGCPauseMillis=10 | отсутствует | 2 | 2 | 135ms | 533ms |
 | 2. | -Xms512m<br> -Xmx512m<br> -XX:+UseParallelGC<br> -XX:MaxGCPauseMillis=10 | 10 | 3 | 1 | 207ms | 414ms |
 | 3. | -Xms512m<br> -Xmx512m<br> -XX:+UseParallelGC<br> -XX:MaxGCPauseMillis=10 | 100 | 3 | 3 | 312ms | 1182ms |
 | 4. | -Xms512m<br> -Xmx512m<br> -XX:+UseParallelGC<br> -XX:MaxGCPauseMillis=100 | 100 | 3 | 5 | 310ms | 1898ms |
 | 5. | -Xms4096m<br> -Xmx4096m<br> -XX:+UseParallelGC<br> -XX:MaxGCPauseMillis=10 | отсутствует | 2 | 7 | 1068ms | 18928ms |
 | 6. | -Xms4096m<br> -Xmx4096m<br> -XX:+UseParallelGC<br> -XX:MaxGCPauseMillis=10 | 10 | 3 | 4 | 2526ms | 11052ms |
 
 ### Выводы:
 0. В эксперимерне №5 приложение проработало 5m 4s. Максимальная загрузка памяти составила 3,935,774,816 B из выделенных 4,294,967,296 B (91.6%).
 0. В эксперименте №6 было всего 3 Scavenge (Young) сборки, 1я на 25% загрузки памяти (сборка потребовала нагрузку на проц. 43%), 2я на 50% загрузки памяти (сборка потребовала нагрузку на проц. 55%), 3я на 75% загрузки памяти (сборка потребовала нагрузку на проц. 76.8%), таким образом, достигается максимальная пауза между сборками мусора (чтобы не мешать работать приложению). Приложение достигло предела по памяти за 2m 30s, общее время работы 4m 37s.
 0. Похоже, что нагрузка на процессор возрастает до 100% ещё до достижения максимума по памяти 3,936,699,480 B из выделенных 4,294,967,296 В (91.6%).
  